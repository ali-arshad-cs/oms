{% if user.is_authenticated %}
{% include "header.html" %}
{% include "sidenav.html" %}
<div id="layoutSidenav_content">
<main>
   <div class="container-fluid px-4">
      <h1 class="mt-4">Members List</h1>
      <ol class="breadcrumb mb-4">
         <li class="breadcrumb-item active">OMS Dashboard</li>
      </ol>
      {% for message in messages %}
      <div class="alert alert-dismissible fade show {% if message.tags == 'success' %}alert-success{% elif message.tags == 'error' %}alert-danger{% endif %}" role="alert" id="alertMessage">
         <strong>Alert:</strong> {{ message }}
         <button type="button" class="close" data-dismiss="alert" aria-label="Close">
         <span aria-hidden="true">&times;</span>
         </button>
      </div>
      {% endfor %}

      <div class="card mb-4">
         <div class="card-header">
            <i class="fas fa-table me-1"></i>
            Members DataTable
         </div>
         <div class="card-body">
            <table id="datatablesSimple" class="table">
               <thead>
                  <tr>
                      <th></th>
                     <th>Full Name</th>
                     <th>Phone</th>
                     <th>Position</th>
                      <th>Qualification</th>
                      <th>CNIC</th>
                     <th>Status</th>
                     <th>Duration In Foundation</th>
                     <th>Date Joined</th>
                     <th>Date Left</th>
                  </tr>
               </thead>
               <tfoot>
                  <tr>
                      <th></th>
                     <th>Full Name</th>
                     <th>Phone</th>
                     <th>Position</th>
                      <th>Qualification</th>
                      <th>CNIC</th>
                     <th>Status</th>
                     <th>Duration In Foundation</th>
                     <th>Date Joined</th>
                     <th>Date Left</th>
                     <!-- Add other columns as needed -->
                  </tr>
               </tfoot>
               <tbody>
                  {% for member in members %}
                  <tr>



    <!-- Add other columns as needed -->
                      <td style="text-align: center;">
                        {% if member.picture %}
                        <div style="width: 45px; height: 45px; overflow: hidden; border-radius: 50%; border: 2px solid #ccc;">
                           <img src="{{ member.picture.url }}" alt="Picture" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                        </div>
                        {% else %}
                        <!-- Display nothing if orphan_picture is not present -->
                        {% endif %}
                     </td>
                      <td><a href="{% url 'members:member_detail' pk=member.pk %}">{{ member.full_name }}</a></td>
                     <td>{{ member.phone_number }}</td>
                     <td>{{ member.position }}</td>
                      <td>{{ member.qualification }}</td>
                      <td>{{ member.cnic }}</td>
                     <td>{{ member.membership_status }}</td>
                      <td>{{ member.time_spent }}</td>
                     <td>{{ member.date_joined }}</td>
                     <td>{{ member.date_left }}</td>

                     <!-- Add other columns as needed -->
                  </tr>
                  {% endfor %}
               </tbody>
            </table>
         </div>
      </div>
   </div>
</main>
{% include "footer.html" %}
{% endif %}